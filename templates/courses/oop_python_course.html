{% extends "base.html" %} {% block title %}Object-Oriented Python Course{% endblock %} {% block
content %}

<section
  class="hero-section"
  style="
    background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),
      url('https://images.unsplash.com/photo-1550439062-609e1d856093?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80');
    background-size: cover;
    background-position: center;
    color: white;
    min-height: 40vh;
    display: flex;
    align-items: center;
    padding: 0;
  "
>
  <div class="container py-5">
    <div class="row align-items-center">
      <div class="col-lg-8 mx-auto text-center">
        <h1 class="display-4 fw-bold mb-4">
          <i class="bi bi-filetype-py text-primary me-3"></i>Object-Oriented Python
        </h1>
        <p class="lead mb-4 fs-4">
          Master Object-Oriented Programming (OOP) principles in Python
        </p>
        <div class="d-flex justify-content-center gap-3 flex-wrap">
          <span class="badge bg-primary fs-6">Intermediate Friendly</span>
          <span class="badge bg-success fs-6" id="total-lessons-badge"
            >10 Lessons</span
          >
          <span class="badge bg-info fs-6">20+ Exercises</span>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="py-3 bg-light">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-6">
        <div class="d-flex align-items-center">
          <div class="progress flex-grow-1" style="height: 20px">
            <div
              class="progress-bar bg-success"
              role="progressbar"
              style="width: 0%"
              aria-valuenow="0"
              aria-valuemin="0"
              aria-valuemax="100"
              id="course-progress-bar"
            >
              0% Complete
            </div>
          </div>
          <small class="ms-3 fw-bold" id="lessons-complete-text"
            >0/10 Lessons</small
          >
        </div>
      </div>
      <div class="col-md-6 text-md-end mt-3 mt-md-0">
        <button class="btn btn-outline-primary me-2">
          <i class="bi bi-journal-bookmark me-1"></i>Save Progress
        </button>
        <button class="btn btn-primary">
          <i class="bi bi-share me-1"></i>Share
        </button>
      </div>
    </div>
  </div>
</section>

<div class="container py-5">
  <div class="row">
    <div class="col-lg-4 mb-5 mb-lg-0">
      <div class="card shadow-sm sticky-top" style="top: 20px">
        <div class="card-header bg-primary text-white">
          <h3 class="h5 mb-0">Course Content</h3>
        </div>
        <div class="card-body p-0">
          <div class="list-group list-group-flush" id="course-modules">
            <div
              class="list-group-item list-group-item-action bg-light fw-bold"
              data-bs-toggle="collapse"
              href="#module1"
            >
              <i class="bi bi-chevron-down me-2"></i>Module 1: OOP Concepts
            </div>
            <div class="collapse show" id="module1">
              <a
                href="#"
                class="list-group-item list-group-item-action lesson-item"
                data-lesson-id="1.1"
                data-video-id="VIDEO_ID_OOP_1_1"
              >
                <input
                  type="checkbox"
                  class="form-check-input me-2 lesson-checkbox"
                  id="lesson-checkbox-1.1"
                />
                <i class="bi bi-play-circle me-2"></i>1.1 Introduction to OOP
              </a>
              <a
                href="#"
                class="list-group-item list-group-item-action lesson-item"
                data-lesson-id="1.2"
                data-video-id="VIDEO_ID_OOP_1_2"
              >
                <input
                  type="checkbox"
                  class="form-check-input me-2 lesson-checkbox"
                  id="lesson-checkbox-1.2"
                />
                <i class="bi bi-play-circle me-2"></i>1.2 Classes and Objects
              </a>
              <a
                href="#"
                class="list-group-item list-group-item-action lesson-item"
                data-lesson-id="1.3"
                data-video-id="VIDEO_ID_OOP_1_3"
              >
                <input
                  type="checkbox"
                  class="form-check-input me-2 lesson-checkbox"
                  id="lesson-checkbox-1.3"
                />
                <i class="bi bi-play-circle me-2"></i>1.3 Attributes and Methods
              </a>
              <a
                href="#"
                class="list-group-item list-group-item-action lesson-item"
                data-lesson-id="1.4"
                data-video-id="VIDEO_ID_OOP_1_4"
              >
                <input
                  type="checkbox"
                  class="form-check-input me-2 lesson-checkbox"
                  id="lesson-checkbox-1.4"
                />
                <i class="bi bi-play-circle me-2"></i>1.4 The `__init__` Method
              </a>
            </div>

            <div
              class="list-group-item list-group-item-action bg-light fw-bold"
              data-bs-toggle="collapse"
              href="#module2"
            >
              <i class="bi bi-chevron-down me-2"></i>Module 2: Pillars of OOP
            </div>
            <div class="collapse" id="module2">
              <a
                href="#"
                class="list-group-item list-group-item-action lesson-item"
                data-lesson-id="2.1"
                data-video-id="VIDEO_ID_OOP_2_1"
              >
                <input
                  type="checkbox"
                  class="form-check-input me-2 lesson-checkbox"
                  id="lesson-checkbox-2.1"
                />
                <i class="bi bi-play-circle me-2"></i>2.1 Inheritance
              </a>
              <a
                href="#"
                class="list-group-item list-group-item-action lesson-item"
                data-lesson-id="2.2"
                data-video-id="VIDEO_ID_OOP_2_2"
              >
                <input
                  type="checkbox"
                  class="form-check-input me-2 lesson-checkbox"
                  id="lesson-checkbox-2.2"
                />
                <i class="bi bi-play-circle me-2"></i>2.2 Polymorphism
              </a>
              <a
                href="#"
                class="list-group-item list-group-item-action lesson-item"
                data-lesson-id="2.3"
                data-video-id="VIDEO_ID_OOP_2_3"
              >
                <input
                  type="checkbox"
                  class="form-check-input me-2 lesson-checkbox"
                  id="lesson-checkbox-2.3"
                />
                <i class="bi bi-play-circle me-2"></i>2.3 Encapsulation
              </a>
              <a
                href="#"
                class="list-group-item list-group-item-action lesson-item"
                data-lesson-id="2.4"
                data-video-id="VIDEO_ID_OOP_2_4"
              >
                <input
                  type="checkbox"
                  class="form-check-input me-2 lesson-checkbox"
                  id="lesson-checkbox-2.4"
                />
                <i class="bi bi-play-circle me-2"></i>2.4 Abstraction
              </a>
            </div>

            <div
              class="list-group-item list-group-item-action bg-light fw-bold"
              data-bs-toggle="collapse"
              href="#module3"
            >
              <i class="bi bi-chevron-down me-2"></i>Module 3: Advanced OOP
            </div>
            <div class="collapse" id="module3">
              <a
                href="#"
                class="list-group-item list-group-item-action lesson-item"
                data-lesson-id="3.1"
                data-video-id="VIDEO_ID_OOP_3_1"
              >
                <input
                  type="checkbox"
                  class="form-check-input me-2 lesson-checkbox"
                  id="lesson-checkbox-3.1"
                />
                <i class="bi bi-play-circle me-2"></i>3.1 Class and Static Methods
              </a>
              <a
                href="#"
                class="list-group-item list-group-item-action lesson-item"
                data-lesson-id="3.2"
                data-video-id="VIDEO_ID_OOP_3_2"
              >
                <input
                  type="checkbox"
                  class="form-check-input me-2 lesson-checkbox"
                  id="lesson-checkbox-3.2"
                />
                <i class="bi bi-play-circle me-2"></i>3.2 Property Decorators
              </a>
            </div>

            <div
              class="list-group-item list-group-item-action bg-light fw-bold"
              data-bs-toggle="collapse"
              href="#resources-sidebar"
            >
              <i class="bi bi-chevron-down me-2"></i>Resources
            </div>
            <div class="collapse" id="resources-sidebar">
              <a href="#" class="list-group-item list-group-item-action">
                <i class="bi bi-file-earmark-text me-2"></i>Cheat Sheet
              </a>
              <a href="#" class="list-group-item list-group-item-action">
                <i class="bi bi-journal-code me-2"></i>Exercise Files
              </a>
              <a href="#" class="list-group-item list-group-item-action">
                <i class="bi bi-link-45deg me-2"></i>Useful References
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-8">
      <div class="card shadow-sm mb-4">
        <div class="card-body p-0">
          <div class="ratio ratio-16x9">
            <iframe
              id="lesson-video-player"
              src="https://www.youtube.com/embed/VIDEO_ID_OOP_1_1"
              title="OOP Python Introduction"
              allowfullscreen
            ></iframe>
          </div>
        </div>
        <div class="card-footer bg-white">
          <div class="d-flex justify-content-between align-items-center">
            <h3 class="h5 mb-0" id="current-lesson-title">
              1.1 Introduction to OOP
            </h3>
            <div>
              <button class="btn btn-sm btn-outline-secondary me-2">
                <i class="bi bi-speedometer2 me-1"></i>1.5x
              </button>
              <button class="btn btn-sm btn-outline-secondary">
                <i class="bi bi-arrow-left-right me-1"></i>CC
              </button>
            </div>
          </div>
        </div>
      </div>

      <div class="d-flex justify-content-between mb-4">
        <button class="btn btn-primary" id="prev-lesson-btn" disabled>
          <i class="bi bi-chevron-left me-1"></i>Previous Lesson
        </button>
        <button class="btn btn-success" id="mark-complete-btn">
          Mark Complete <i class="bi bi-check-circle ms-1"></i>
        </button>
        <button class="btn btn-primary" id="next-lesson-btn">
          Next Lesson <i class="bi bi-chevron-right ms-1"></i>
        </button>
      </div>

      <div class="card shadow-sm mb-4">
        <div class="card-header bg-white">
          <ul class="nav nav-tabs card-header-tabs">
            <li class="nav-item">
              <a class="nav-link active" href="#notes" data-bs-toggle="tab"
                >Lesson Notes</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#transcript" data-bs-toggle="tab"
                >Transcript</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#lesson-resources" data-bs-toggle="tab"
                >Resources</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#reading-materials" data-bs-toggle="tab"
                >Reading Materials</a
              >
            </li>
          </ul>
        </div>
        <div class="card-body tab-content">
          <div class="tab-pane fade show active" id="notes">
            <h4 class="mb-4">Introduction to Object-Oriented Programming (OOP)</h4>
            <p>
              Object-Oriented Programming (OOP) is a programming paradigm based
              on the concept of "objects", which can contain data and code:
              data in the form of fields (often known as attributes or properties),
              and code, in the form of procedures (often known as methods).
              Python is a multi-paradigm language that fully supports OOP.
            </p>

            <div class="alert alert-info">
              <i class="bi bi-info-circle-fill me-2"></i>OOP helps in organizing
              code, making it more modular, reusable, and easier to maintain.
            </div>

            <h5 class="mt-4">Basic Class and Object Example in Python</h5>
            <pre><code class="language-python">
# Define a simple class
class Dog:
    # Class attribute
    species = "Canis familiaris"

    # Initializer / Instance attributes
    def __init__(self, name, age):
        self.name = name
        self.age = age

    # Instance method
    def bark(self):
        return f"{self.name} says Woof!"

# Create objects (instances) of the Dog class
my_dog = Dog("Buddy", 3)
your_dog = Dog("Lucy", 5)

# Access attributes and call methods
print(f"{my_dog.name} is {my_dog.age} years old.")
print(my_dog.bark())
print(f"{your_dog.name} is {your_dog.age} years old.")
            </code></pre>

            <h5 class="mt-4">Key Concepts Covered</h5>
            <ul>
              <li>Classes and Objects</li>
              <li>Attributes and Methods</li>
              <li>The `__init__` constructor</li>
              <li>Instance vs. Class attributes</li>
            </ul>

            <div class="d-flex justify-content-between mt-4">
              <button class="btn btn-outline-primary">
                <i class="bi bi-download me-1"></i>Download Slides
              </button>
              <button class="btn btn-outline-success">
                <i class="bi bi-bookmark me-1"></i>Save Notes
              </button>
            </div>
          </div>

          <div class="tab-pane fade" id="transcript">
            <h5 class="mb-3">Video Transcript</h5>
            <div class="form-check form-switch mb-3">
              <input
                class="form-check-input"
                type="checkbox"
                id="autoScroll"
                checked
              />
              <label class="form-check-label" for="autoScroll"
                >Auto-scroll with video</label
              >
            </div>
            <div
              class="transcript-content"
              style="max-height: 400px; overflow-y: auto"
            >
              <p data-timestamp="0">
                <strong>[0:00]</strong> Welcome to the Object-Oriented Python course.
                In this lesson, we'll introduce you to the powerful paradigm of OOP.
              </p>
              <p data-timestamp="30">
                <strong>[0:30]</strong> OOP allows us to model real-world entities
                as objects, making our code more organized, modular, and reusable.
              </p>
              <p data-timestamp="60" class="bg-light fw-bold">
                <strong>[1:00]</strong> We'll start with the basics of classes,
                objects, attributes, and methods, building a strong foundation for
                more advanced concepts.
              </p>
            </div>
          </div>

          <div class="tab-pane fade" id="lesson-resources">
            <h5 class="mb-4">Lesson Resources</h5>
            <div class="list-group mb-3">
              <a
                href="#"
                class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
              >
                <span>
                  <i class="bi bi-file-earmark-code me-2"></i>Starter Code
                </span>
                <span class="badge bg-primary rounded-pill">ZIP 25KB</span>
              </a>
              <a
                href="#"
                class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
              >
                <span>
                  <i class="bi bi-file-earmark-pdf me-2"></i>OOP Python Cheat Sheet
                </span>
                <span class="badge bg-primary rounded-pill">PDF 1.2MB</span>
              </a>
              <a
                href="https://realpython.com/python3-object-oriented-programming/"
                target="_blank"
                class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
              >
                <span>
                  <i class="bi bi-link-45deg me-2"></i>Real Python OOP Guide
                </span>
                <span class="badge bg-primary rounded-pill">Link</span>
              </a>
            </div>
          </div>

          <div class="tab-pane fade" id="reading-materials">
            <h5 class="mb-4">Recommended Reading for this Topic</h5>
            <div class="list-group">
              <a href="#" class="list-group-item list-group-item-action">
                <i class="bi bi-book me-2"></i>Fluent Python (Chapter 1: Data Model)
              </a>
              <a href="#" class="list-group-item list-group-item-action">
                <i class="bi bi-book me-2"></i>Python Tricks: A Buffet of Awesome Python Features (Chapter on Classes)
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="card shadow-sm border-primary">
        <div class="card-header bg-primary text-white">
          <h3 class="h5 mb-0">
            <i class="bi bi-pencil-square me-2"></i>Practice Exercise
          </h3>
        </div>
        <div class="card-body">
          <h5 class="mb-3">Create a Simple `Car` Class</h5>
          <p>
            Define a Python class `Car` with the following:
          </p>
          <ul class="mb-4">
            <li>An `__init__` method that takes `make`, `model`, and `year` as arguments and assigns them to instance attributes.</li>
            <li>A method `display_info()` that returns a string like: "This is a [year] [make] [model]."</li>
            <li>Create an instance of `Car` (e.g., `my_car = Car("Toyota", "Camry", 2020)`).</li>
            <li>Print the result of calling `my_car.display_info()`.</li>
          </ul>

          <div class="mb-4">
            <div class="d-flex justify-content-between align-items-center mb-2">
              <h6 class="mb-0">car_class.py</h6>
              <div>
                <button class="btn btn-sm btn-outline-secondary me-2">
                  <i class="bi bi-arrow-counterclockwise"></i> Reset
                </button>
                <button class="btn btn-sm btn-outline-primary">
                  <i class="bi bi-files"></i> Show Solution
                </button>
              </div>
            </div>
            <div class="code-editor border" style="height: 300px">
              <textarea
                class="form-control h-100"
                id="python-code"
                spellcheck="false"
              >
# Define your Car class here
class Car:
    def __init__(self, make, model, year):
        self.make = make
        self.model = model
        self.year = year

    def display_info(self):
        return f"This is a {self.year} {self.make} {self.model}."

# Create an instance and call the method
my_car = Car("Toyota", "Camry", 2020)
print(my_car.display_info())
</textarea
              >
            </div>
          </div>

          <div class="mb-4">
            <h6 class="mb-2">Live Output</h6>
            <div class="border p-3 bg-light" style="min-height: 150px; overflow-y: auto;">
              <pre id="python-output"></pre>
            </div>
          </div>

          <div class="d-flex justify-content-between">
            <button class="btn btn-outline-secondary">
              <i class="bi bi-lightbulb me-1"></i>Get Hint
            </button>
            <button class="btn btn-success" id="run-python-code">
              <i class="bi bi-play-fill me-1"></i>Run Code
            </button>
          </div>
        </div>
      </div>

      <div class="card shadow-sm mt-4">
        <div class="card-header bg-white">
          <h3 class="h5 mb-0">
            <i class="bi bi-chat-square-text me-2"></i>Discussion
          </h3>
        </div>
        <div class="card-body">
          <div class="mb-4">
            <textarea
              class="form-control mb-2"
              rows="3"
              placeholder="Ask a question or share your thoughts..."
            ></textarea>
            <button class="btn btn-primary">Post Comment</button>
          </div>

          <div class="d-flex mb-3">
            <img
              src="https://randomuser.me/api/portraits/women/51.jpg"
              class="rounded-circle me-3"
              width="50"
              height="50"
              alt="User"
            />
            <div>
              <div class="d-flex justify-content-between">
                <h6 class="mb-1">Chloe Davis</h6>
                <small class="text-muted">8 hours ago</small>
              </div>
              <p class="mb-1">
                I'm finding it a bit tricky to decide when to use class attributes vs. instance attributes.
              </p>
              <a href="#" class="text-decoration-none">Reply</a>
            </div>
          </div>

          <div class="d-flex mb-3 ps-5">
            <img
              src="https://randomuser.me/api/portraits/men/39.jpg"
              class="rounded-circle me-3"
              width="40"
              height="40"
              alt="User"
            />
            <div>
              <div class="d-flex justify-content-between">
                <h6 class="mb-1">Prof. Ben Carter (Instructor)</h6>
                <small class="text-muted">6 hours ago</small>
              </div>
              <p class="mb-1">
                That's a common point of confusion, Chloe! Class attributes are shared
                by all instances, while instance attributes are unique to each object.
                We'll cover this more in the next lesson.
              </p>
              <a href="#" class="text-decoration-none">Reply</a>
            </div>
          </div>

          <div class="text-center">
            <a href="#" class="btn btn-outline-primary"
              >View All Comments (11)</a
            >
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="py-5 bg-light">
  <div class="container py-4">
    <div class="text-center mb-5">
      <h2 class="fw-bold">Continue Learning</h2>
      <p class="lead text-muted">
        These courses complement your OOP Python knowledge
      </p>
    </div>

    <div class="row g-4">
      <div class="col-md-4">
        <div class="card h-100 shadow-sm">
          <img
            src="https://images.unsplash.com/photo-1547658719-da2b51169166?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1528&q=80"
            class="card-img-top"
            alt="Python Basics Course"
          />
          <div class="card-body">
            <h5 class="card-title">Python Basics</h5>
            <p class="card-text">
              Reinforce your foundational Python programming skills.
            </p>
            <div class="d-flex justify-content-between align-items-center">
              <div class="progress flex-grow-1 me-3" style="height: 5px">
                <div
                  class="progress-bar bg-info"
                  role="progressbar"
                  style="width: 75%"
                ></div>
              </div>
              <small>75%</small>
            </div>
          </div>
          <div class="card-footer bg-white">
            <a href="#" class="btn btn-sm btn-outline-primary w-100"
              >Continue</a
            >
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card h-100 shadow-sm">
          <img
            src="https://images.unsplash.com/photo-1522199755839-a2bacb67c546?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            class="card-img-top"
            alt="Advanced Python Course"
          />
          <div class="card-body">
            <h5 class="card-title">Advanced Python Concepts</h5>
            <p class="card-text">
              Explore more advanced features and patterns in Python.
            </p>
            <div class="d-flex justify-content-between align-items-center">
              <div class="progress flex-grow-1 me-3" style="height: 5px">
                <div
                  class="progress-bar bg-warning"
                  role="progressbar"
                  style="width: 0%"
                ></div>
              </div>
              <small>0%</small>
            </div>
          </div>
          <div class="card-footer bg-white">
            <a href="#" class="btn btn-sm btn-outline-primary w-100"
              >Start Course</a
            >
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card h-100 shadow-sm">
          <img
            src="https://images.unsplash.com/photo-1547658719-da2b51169166?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1528&q=80"
            class="card-img-top"
            alt="Python Web Development Course"
          />
          <div class="card-body">
            <h5 class="card-title">Python Web Development</h5>
            <p class="card-text">
              Apply your Python and OOP skills to build web applications.
            </p>
            <div class="d-flex justify-content-between align-items-center">
              <div class="progress flex-grow-1 me-3" style="height: 5px">
                <div
                  class="progress-bar bg-success"
                  role="progressbar"
                  style="width: 0%"
                ></div>
              </div>
              <small>0%</small>
            </div>
          </div>
          <div class="card-footer bg-white">
            <a href="#" class="btn btn-sm btn-outline-primary w-100"
              >Start Course</a
            >
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .hero-section {
    position: relative;
    width: 100vw;
    left: 50%;
    right: 50%;
    margin-left: -50vw;
    margin-right: -50vw;
  }

  .code-editor textarea {
    font-family: "Courier New", Courier, monospace;
    font-size: 14px;
    background-color: #f8f9fa;
  }

  .transcript-content p {
    cursor: pointer;
    padding: 5px;
    border-radius: 4px;
  }

  .transcript-content p:hover {
    background-color: #f8f9fa;
  }

  .nav-tabs .nav-link.active {
    font-weight: bold;
    border-bottom: 3px solid #0d6efd;
  }

  .list-group-item.active {
    background-color: #e9f5ff;
    color: #0d6efd;
    border-left: 3px solid #0d6efd;
  }

  .list-group-item.bg-light {
    background-color: #f8f9fa !important;
  }

  .sticky-top {
    z-index: 1;
  }

  /* Style for checked lessons */
  .lesson-checkbox:checked + i {
    color: #198754; /* Green color for checked icon */
  }
</style>

<script>
  // Dummy data for lessons (replace with actual data from a backend/API)
  const allLessons = [
    {
      id: "1.1",
      title: "1.1 Introduction to OOP",
      videoId: "VIDEO_ID_OOP_1_1", // Replace with actual YouTube video ID
      notes: "...",
      reading: [
        "https://www.w3schools.com/python/python_classes.asp",
        "https://realpython.com/python3-object-oriented-programming/",
      ],
    },
    {
      id: "1.2",
      title: "1.2 Classes and Objects",
      videoId: "VIDEO_ID_OOP_1_2",
      notes: "...",
      reading: ["https://www.programiz.com/python-programming/class-objects"],
    },
    {
      id: "1.3",
      title: "1.3 Attributes and Methods",
      videoId: "VIDEO_ID_OOP_1_3",
      notes: "...",
      reading: ["https://www.geeksforgeeks.org/python-attributes-and-methods/"],
    },
    {
      id: "1.4",
      title: "1.4 The `__init__` Method",
      videoId: "VIDEO_ID_OOP_1_4",
      notes: "...",
      reading: ["https://www.w3schools.com/python/gloss_python_init.asp"],
    },
    {
      id: "2.1",
      title: "2.1 Inheritance",
      videoId: "VIDEO_ID_OOP_2_1",
      notes: "...",
      reading: ["https://www.w3schools.com/python/python_inheritance.asp"],
    },
    {
      id: "2.2",
      title: "2.2 Polymorphism",
      videoId: "VIDEO_ID_OOP_2_2",
      notes: "...",
      reading: ["https://www.w3schools.com/python/python_polymorphism.asp"],
    },
    {
      id: "2.3",
      title: "2.3 Encapsulation",
      videoId: "VIDEO_ID_OOP_2_3",
      notes: "...",
      reading: ["https://www.geeksforgeeks.org/encapsulation-in-python/"],
    },
    {
      id: "2.4",
      title: "2.4 Abstraction",
      videoId: "VIDEO_ID_OOP_2_4",
      notes: "...",
      reading: ["https://www.geeksforgeeks.org/abstraction-in-python/"],
    },
    {
      id: "3.1",
      title: "3.1 Class and Static Methods",
      videoId: "VIDEO_ID_OOP_3_1",
      notes: "...",
      reading: ["https://realpython.com/instance-class-and-static-methods-demystified/"],
    },
    {
      id: "3.2",
      title: "3.2 Property Decorators",
      videoId: "VIDEO_ID_OOP_3_2",
      notes: "...",
      reading: ["https://www.programiz.com/python-programming/property"],
    },
  ];

  let currentLessonIndex = 0;
  const lessonCheckboxes = document.querySelectorAll(".lesson-checkbox");
  const lessonItems = document.querySelectorAll(".lesson-item");
  const lessonVideoPlayer = document.getElementById("lesson-video-player");
  const currentLessonTitle = document.getElementById("current-lesson-title");
  const prevLessonBtn = document.getElementById("prev-lesson-btn");
  const nextLessonBtn = document.getElementById("next-lesson-btn");
  const markCompleteBtn = document.getElementById("mark-complete-btn");
  const courseProgressBar = document.getElementById("course-progress-bar");
  const lessonsCompleteText = document.getElementById("lessons-complete-text");
  const totalLessonsBadge = document.getElementById("total-lessons-badge");
  const lessonNotesTab = document.getElementById("notes");
  const readingMaterialsTab = document.getElementById("reading-materials");
  const pythonCodeEditor = document.getElementById("python-code");
  const pythonOutputDiv = document.getElementById("python-output");
  const runPythonCodeBtn = document.getElementById("run-python-code");

  function updateProgress() {
    const completedLessons = Array.from(lessonCheckboxes).filter(
      (checkbox) => checkbox.checked
    ).length;
    const totalLessons = allLessons.length;
    const progressPercentage = (completedLessons / totalLessons) * 100;

    courseProgressBar.style.width = `${progressPercentage}%`;
    courseProgressBar.setAttribute("aria-valuenow", progressPercentage);
    courseProgressBar.textContent = `${Math.round(
      progressPercentage
    )}% Complete`;
    lessonsCompleteText.textContent = `${completedLessons}/${totalLessons} Lessons`;
    totalLessonsBadge.textContent = `${totalLessons} Lessons`;
  }

  function loadLessonContent(lesson) {
    // Update video player
    lessonVideoPlayer.src = `https://www.youtube.com/embed/${lesson.videoId}`;
    currentLessonTitle.textContent = lesson.title;

    // Update lesson notes (this is a placeholder, you'd load actual content here)
    lessonNotesTab.innerHTML = `
      <h4 class="mb-4">${lesson.title} Notes</h4>
      <p>Content for ${lesson.title} will go here. This is where you'd detail the concepts discussed in the video.</p>
      <div class="alert alert-info">
        <i class="bi bi-info-circle-fill me-2"></i>This is an important note for this lesson.
      </div>
      <h5 class="mt-4">Key Takeaways</h5>
      <ul>
        <li>Specific point 1</li>
        <li>Specific point 2</li>
      </ul>
      <div class="d-flex justify-content-between mt-4">
        <button class="btn btn-outline-primary">
          <i class="bi bi-download me-1"></i>Download Slides
        </button>
        <button class="btn btn-outline-success">
          <i class="bi bi-bookmark me-1"></i>Save Notes
        </button>
      </div>
    `;

    // Update reading materials
    let readingHtml =
      '<h5 class="mb-4">Recommended Reading for this Topic</h5><div class="list-group">';
    if (lesson.reading && lesson.reading.length > 0) {
      lesson.reading.forEach((link) => {
        readingHtml += `<a href="${link}" target="_blank" class="list-group-item list-group-item-action"><i class="bi bi-book me-2"></i>${link}</a>`;
      });
    } else {
      readingHtml +=
        "<p>No specific reading materials for this lesson at the moment.</p>";
    }
    readingHtml += "</div>";
    readingMaterialsTab.innerHTML = readingHtml;

    // Update active state in sidebar
    lessonItems.forEach((item) => item.classList.remove("active"));
    document
      .querySelector(`.lesson-item[data-lesson-id="${lesson.id}"]`)
      .classList.add("active");

    // Update navigation buttons
    prevLessonBtn.disabled = currentLessonIndex === 0;
    nextLessonBtn.disabled = currentLessonIndex === allLessons.length - 1;

    // Set checkbox state for the current lesson
    const currentLessonCheckbox = document.getElementById(
      `lesson-checkbox-${lesson.id}`
    );
    markCompleteBtn.textContent = currentLessonCheckbox.checked
      ? "Completed"
      : "Mark Complete";
    markCompleteBtn.classList.toggle(
      "btn-success",
      !currentLessonCheckbox.checked
    );
    markCompleteBtn.classList.toggle(
      "btn-secondary",
      currentLessonCheckbox.checked
    );
  }

  // Function to simulate Python execution (client-side for demonstration)
  // In a real application, this would send code to a backend Python interpreter
  async function executePythonCode() {
    const code = pythonCodeEditor.value;
    pythonOutputDiv.textContent = 'Running code...';

    try {
      // This is a placeholder. In a real app, you'd send the code to a server
      // that has a Python interpreter and return the output.
      // For demonstration, we'll simulate a simple execution.
      // This is NOT a secure or robust way to run Python in a browser.
      // It's purely for visual demonstration of the UI.

      const simulatedOutput = await new Promise(resolve => {
        setTimeout(() => {
          let output = [];
          // A very basic and unsafe simulation of Python execution for demonstration.
          // This does NOT actually run Python. It tries to mimic print statements.
          // For a real Python execution environment, you'd need a backend.
          try {
            // Attempt to parse and execute Python-like print statements and variable assignments
            const lines = code.split('\n');
            const scope = {}; // Simple scope for variables

            lines.forEach(line => {
              const trimmedLine = line.trim();
              if (trimmedLine.startsWith('print(') && trimmedLine.endsWith(')')) {
                let content = trimmedLine.substring(6, trimmedLine.length - 1);
                // Basic f-string like substitution
                content = content.replace(/f"(.*?)"/g, (match, p1) => {
                  return p1.replace(/{(.*?)}/g, (m, varName) => {
                    return scope[varName] !== undefined ? scope[varName] : `{${varName}}`;
                  });
                });
                // Basic string evaluation (not full Python eval)
                if (content.startsWith('"') && content.endsWith('"')) {
                    output.push(content.substring(1, content.length - 1));
                } else if (content.startsWith('f"') && content.endsWith('"')) {
                    output.push(content.substring(2, content.length - 1));
                } else {
                    // Try to resolve as a variable or simple expression
                    try {
                        output.push(eval(content)); // This would execute as JS
                    } catch (e) {
                        output.push(`Error evaluating: ${content}`);
                    }
                }
              } else if (trimmedLine.includes('=') && !trimmedLine.startsWith('#')) {
                // Simple variable assignment simulation
                const parts = trimmedLine.split('=');
                if (parts.length === 2) {
                  const varName = parts[0].trim();
                  let varValue = parts[1].trim();
                  try {
                    // Attempt to parse simple types (numbers, strings)
                    if (varValue.startsWith('"') && varValue.endsWith('"')) {
                      scope[varName] = varValue.substring(1, varValue.length - 1);
                    } else if (!isNaN(varValue)) {
                      scope[varName] = Number(varValue);
                    } else if (varValue === 'True') {
                        scope[varName] = true;
                    } else if (varValue === 'False') {
                        scope[varName] = false;
                    } else if (varValue === 'None') {
                        scope[varName] = null;
                    } else {
                        // For more complex assignments, just store as string or try eval
                        try {
                            scope[varName] = eval(varValue); // This would execute as JS
                        } catch (e) {
                            scope[varName] = varValue;
                        }
                    }
                  } catch (e) {
                    // Fallback for complex assignments
                    scope[varName] = varValue;
                  }
                }
              } else if (trimmedLine.startsWith('class ') || trimmedLine.startsWith('def ')) {
                output.push(`(Simulating: ${trimmedLine})`);
              }
            });
          } catch (e) {
            output.push(`Runtime Error: ${e.message}`);
          }
          resolve(output.join('\n'));
        }, 500); // Simulate network delay
      });

      pythonOutputDiv.textContent = simulatedOutput || "No output.";

    } catch (e) {
      pythonOutputDiv.textContent = `Error: ${e.message}`;
      console.error("Python execution error:", e);
    }
  }


  function initializeCourse() {
    // Load initial lesson (first one)
    loadLessonContent(allLessons[currentLessonIndex]);
    updateProgress();

    // Event listeners for lesson items
    lessonItems.forEach((item, index) => {
      item.addEventListener("click", function (event) {
        event.preventDefault();
        // Allow clicking the list item to select the lesson, but prevent default for checkbox
        if (!event.target.classList.contains("lesson-checkbox")) {
          currentLessonIndex = allLessons.findIndex(
            (lesson) => lesson.id === this.dataset.lessonId
          );
          loadLessonContent(allLessons[currentLessonIndex]);
          // Reset output when lesson changes
          pythonOutputDiv.textContent = '';
          // You might want to load default code for the new lesson here
          // For now, it keeps the last entered code.
        }
      });
    });

    // Event listeners for checkboxes
    lessonCheckboxes.forEach((checkbox) => {
      checkbox.addEventListener("change", function () {
        updateProgress();
        // If the current lesson's checkbox is clicked, update the "Mark Complete" button
        if (
          this.id === `lesson-checkbox-${allLessons[currentLessonIndex].id}`
        ) {
          markCompleteBtn.textContent = this.checked
            ? "Completed"
            : "Mark Complete";
          markCompleteBtn.classList.toggle("btn-success", !this.checked);
          markCompleteBtn.classList.toggle("btn-secondary", this.checked);
        }
      });
    });

    // Mark Complete button logic
    markCompleteBtn.addEventListener("click", function () {
      const currentLessonCheckbox = document.getElementById(
        `lesson-checkbox-${allLessons[currentLessonIndex].id}`
      );
      currentLessonCheckbox.checked = !currentLessonCheckbox.checked;
      currentLessonCheckbox.dispatchEvent(new Event("change")); // Trigger change event
    });

    // Navigation buttons
    prevLessonBtn.addEventListener("click", () => {
      if (currentLessonIndex > 0) {
        currentLessonIndex--;
        loadLessonContent(allLessons[currentLessonIndex]);
        pythonOutputDiv.textContent = ''; // Clear output on navigation
      }
    });

    nextLessonBtn.addEventListener("click", () => {
      if (currentLessonIndex < allLessons.length - 1) {
        currentLessonIndex++;
        loadLessonContent(allLessons[currentLessonIndex]);
        pythonOutputDiv.textContent = ''; // Clear output on navigation
      }
    });

    // Run Python Code button
    runPythonCodeBtn.addEventListener('click', executePythonCode);
  }

  // Initial setup when the window loads
  window.onload = function () {
    // Transcript click handler
    document.querySelectorAll(".transcript-content p").forEach((p) => {
      p.addEventListener("click", function () {
        const timestamp = this.getAttribute("data-timestamp");
        // In a real implementation, this would seek the video to the timestamp
        console.log("Seek to:", timestamp);
      });
    });

    initializeCourse();
  };
</script>

{% endblock %}
