{% extends "base.html" %} {% block title %}Grade 7: Numeric and Geometric
Patterns{% endblock %} {% block content %}
<style>
  .pattern-box {
    border: 1px solid #dee2e6;
    border-radius: 5px;
    padding: 15px;
    margin-bottom: 20px;
    background-color: #f8f9fa;
  }
  .sequence-example {
    background-color: #e9f7fe;
    padding: 10px;
    border-radius: 5px;
    margin-bottom: 15px;
  }
  .feedback {
    display: none;
    margin-top: 10px;
    padding: 10px;
    border-radius: 5px;
  }
  .correct {
    background-color: #d4edda;
    color: #155724;
  }
  .incorrect {
    background-color: #f8d7da;
    color: #721c24;
  }
  .matchstick-img {
    max-width: 100px;
    margin: 10px;
  }
  .tile-pattern {
    display: inline-block;
    margin: 10px;
    text-align: center;
  }
  .tile-grid {
    display: grid;
    grid-template-columns: repeat(3, 30px);
    grid-template-rows: repeat(3, 30px);
    gap: 1px;
    margin: 10px auto;
  }
  .tile-cell {
    width: 30px;
    height: 30px;
    border: 1px solid #000;
  }
  .yellow {
    background-color: #ffeb3b;
  }
  .red {
    background-color: #f44336;
  }
  .blue {
    background-color: #2196f3;
  }
</style>

<div class="container py-4">
  <h1 class="text-center mb-4">Chapter 11: Numeric and Geometric Patterns</h1>

  <div class="row">
    <div class="col-md-12 mx-auto">
      <div class="pattern-box">
        <h2>11.1 Number Patterns in Sequences</h2>

        <div class="sequence-example">
          <h4>What comes next?</h4>
          <p>Identify the pattern and find the next three numbers:</p>
          <div class="mb-3">
            <p>
              Sequence 1: 4; 8; 12; 16; 20;
              <input
                type="number"
                class="form-control d-inline-block w-25"
                id="seq1-1"
              />;
              <input
                type="number"
                class="form-control d-inline-block w-25"
                id="seq1-2"
              />;
              <input
                type="number"
                class="form-control d-inline-block w-25"
                id="seq1-3"
              />
            </p>
            <button class="btn btn-sm btn-primary check-seq" data-seq="1">
              Check
            </button>
            <div class="feedback" id="feedback-seq1"></div>
          </div>
          <div class="mb-3">
            <p>
              Sequence 2: 4; 8; 16; 32; 64;
              <input
                type="number"
                class="form-control d-inline-block w-25"
                id="seq2-1"
              />;
              <input
                type="number"
                class="form-control d-inline-block w-25"
                id="seq2-2"
              />;
              <input
                type="number"
                class="form-control d-inline-block w-25"
                id="seq2-3"
              />
            </p>
            <button class="btn btn-sm btn-primary check-seq" data-seq="2">
              Check
            </button>
            <div class="feedback" id="feedback-seq2"></div>
          </div>
        </div>

        <h4>Practice Sequences</h4>
        <div class="mb-3">
          <p>
            Sequence A: 4; 7; 10; 13; 16;
            <input
              type="number"
              class="form-control d-inline-block w-25"
              id="seqA-1"
            />;
            <input
              type="number"
              class="form-control d-inline-block w-25"
              id="seqA-2"
            />;
            <input
              type="number"
              class="form-control d-inline-block w-25"
              id="seqA-3"
            />
          </p>
          <p>
            What is the pattern?
            <input type="text" class="form-control w-50" id="patternA" />
          </p>
          <button class="btn btn-sm btn-primary check-seq" data-seq="A">
            Check
          </button>
          <div class="feedback" id="feedback-seqA"></div>
        </div>

        <div class="mb-3">
          <p>
            Sequence B: 5; 10; 20; 40; 80;
            <input
              type="number"
              class="form-control d-inline-block w-25"
              id="seqB-1"
            />;
            <input
              type="number"
              class="form-control d-inline-block w-25"
              id="seqB-2"
            />;
            <input
              type="number"
              class="form-control d-inline-block w-25"
              id="seqB-3"
            />
          </p>
          <p>
            What is the pattern?
            <input type="text" class="form-control w-50" id="patternB" />
          </p>
          <button class="btn btn-sm btn-primary check-seq" data-seq="B">
            Check
          </button>
          <div class="feedback" id="feedback-seqB"></div>
        </div>

        <div class="mb-3">
          <p>
            Sequence C: 2; 5; 10; 17; 26;
            <input
              type="number"
              class="form-control d-inline-block w-25"
              id="seqC-1"
            />;
            <input
              type="number"
              class="form-control d-inline-block w-25"
              id="seqC-2"
            />;
            <input
              type="number"
              class="form-control d-inline-block w-25"
              id="seqC-3"
            />
          </p>
          <p>
            What is the pattern?
            <input type="text" class="form-control w-50" id="patternC" />
          </p>
          <button class="btn btn-sm btn-primary check-seq" data-seq="C">
            Check
          </button>
          <div class="feedback" id="feedback-seqC"></div>
        </div>
      </div>

      <div class="pattern-box">
        <h2>Parking Cost Problem</h2>
        <p>
          Mr. Twala pays R3 to enter the parking lot and R2 for every hour
          parked.
        </p>

        <div class="table-responsive mb-3">
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Number of hours</th>
                <th>1</th>
                <th>2</th>
                <th>3</th>
                <th>4</th>
                <th>5</th>
                <th>6</th>
                <th>7</th>
                <th>8</th>
                <th>9</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Cost in R</td>
                <td>5</td>
                <td>7</td>
                <td>9</td>
                <td><input type="number" class="form-control" id="hour4" /></td>
                <td><input type="number" class="form-control" id="hour5" /></td>
                <td><input type="number" class="form-control" id="hour6" /></td>
                <td><input type="number" class="form-control" id="hour7" /></td>
                <td><input type="number" class="form-control" id="hour8" /></td>
                <td><input type="number" class="form-control" id="hour9" /></td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="mb-3">
          <p>What is the rule for calculating cost?</p>
          <input type="text" class="form-control w-50" id="parkingRule" />
        </div>

        <button class="btn btn-primary" id="checkParking">Check Answers</button>
        <div class="feedback" id="feedback-parking"></div>
      </div>

      <div class="pattern-box">
        <h2>11.2 Geometric Patterns</h2>

        <h4>Tile Patterns</h4>
        <div class="tile-pattern">
          <p>Tile no. 1</p>
          <div class="tile-grid">
            <div class="tile-cell red"></div>
            <div class="tile-cell yellow"></div>
            <div class="tile-cell yellow"></div>
            <div class="tile-cell blue"></div>
            <div class="tile-cell yellow"></div>
            <div class="tile-cell blue"></div>
            <div class="tile-cell yellow"></div>
            <div class="tile-cell yellow"></div>
            <div class="tile-cell red"></div>
          </div>
        </div>

        <div class="tile-pattern">
          <p>Tile no. 2</p>
          <div class="tile-grid">
            <div class="tile-cell red"></div>
            <div class="tile-cell yellow"></div>
            <div class="tile-cell yellow"></div>
            <div class="tile-cell yellow"></div>
            <div class="tile-cell blue"></div>
            <div class="tile-cell yellow"></div>
            <div class="tile-cell yellow"></div>
            <div class="tile-cell blue"></div>
            <div class="tile-cell yellow"></div>
            <div class="tile-cell yellow"></div>
            <div class="tile-cell yellow"></div>
            <div class="tile-cell blue"></div>
            <div class="tile-cell yellow"></div>
            <div class="tile-cell yellow"></div>
            <div class="tile-cell yellow"></div>
            <div class="tile-cell red"></div>
          </div>
        </div>

        <div class="table-responsive mb-3">
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Tile no.</th>
                <th>1</th>
                <th>2</th>
                <th>3</th>
                <th>4</th>
                <th>5</th>
                <th>10</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Yellow tiles</td>
                <td>5</td>
                <td>
                  <input type="number" class="form-control" id="yellow2" />
                </td>
                <td>
                  <input type="number" class="form-control" id="yellow3" />
                </td>
                <td>
                  <input type="number" class="form-control" id="yellow4" />
                </td>
                <td>
                  <input type="number" class="form-control" id="yellow5" />
                </td>
                <td>
                  <input type="number" class="form-control" id="yellow10" />
                </td>
              </tr>
              <tr>
                <td>Red tiles</td>
                <td>2</td>
                <td><input type="number" class="form-control" id="red2" /></td>
                <td><input type="number" class="form-control" id="red3" /></td>
                <td><input type="number" class="form-control" id="red4" /></td>
                <td><input type="number" class="form-control" id="red5" /></td>
                <td><input type="number" class="form-control" id="red10" /></td>
              </tr>
              <tr>
                <td>Blue tiles</td>
                <td>2</td>
                <td><input type="number" class="form-control" id="blue2" /></td>
                <td><input type="number" class="form-control" id="blue3" /></td>
                <td><input type="number" class="form-control" id="blue4" /></td>
                <td><input type="number" class="form-control" id="blue5" /></td>
                <td>
                  <input type="number" class="form-control" id="blue10" />
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <button class="btn btn-primary" id="checkTiles">
          Check Tile Answers
        </button>
        <div class="feedback" id="feedback-tiles"></div>
      </div>

      <div class="pattern-box">
        <h4>Matchstick Patterns</h4>

        <div class="mb-4">
          <h5>Pattern 1</h5>
          <div>
            <img
              src="https://via.placeholder.com/100x50?text=Figure+1"
              class="matchstick-img"
            />
            <img
              src="https://via.placeholder.com/100x50?text=Figure+2"
              class="matchstick-img"
            />
            <img
              src="https://via.placeholder.com/100x50?text=Figure+3"
              class="matchstick-img"
            />
          </div>

          <div class="table-responsive mb-3">
            <table class="table table-bordered">
              <thead>
                <tr>
                  <th>Figure no.</th>
                  <th>1</th>
                  <th>2</th>
                  <th>3</th>
                  <th>4</th>
                  <th>5</th>
                  <th>6</th>
                  <th>7</th>
                  <th>8</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Matches</td>
                  <td>3</td>
                  <td>5</td>
                  <td>7</td>
                  <td>
                    <input type="number" class="form-control" id="match1-4" />
                  </td>
                  <td>
                    <input type="number" class="form-control" id="match1-5" />
                  </td>
                  <td>
                    <input type="number" class="form-control" id="match1-6" />
                  </td>
                  <td>
                    <input type="number" class="form-control" id="match1-7" />
                  </td>
                  <td>
                    <input type="number" class="form-control" id="match1-8" />
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="mb-3">
            <p>
              How many matches for Figure 9?
              <input
                type="number"
                class="form-control d-inline-block w-25"
                id="match1-9"
              />
            </p>
            <p>
              How many matches for Figure 17?
              <input
                type="number"
                class="form-control d-inline-block w-25"
                id="match1-17"
              />
            </p>
          </div>

          <div class="mb-3">
            <p>
              What is the rule?
              <input type="text" class="form-control w-50" id="matchRule1" />
            </p>
          </div>
        </div>

        <button class="btn btn-primary" id="checkMatch1">
          Check Matchstick Answers
        </button>
        <div class="feedback" id="feedback-match1"></div>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Sequence checkers
    document.querySelectorAll(".check-seq").forEach((button) => {
      button.addEventListener("click", function () {
        const seqId = this.getAttribute("data-seq");
        let correct = true;
        let feedback = "";

        if (seqId === "1") {
          const answers = [
            parseInt(document.getElementById("seq1-1").value),
            parseInt(document.getElementById("seq1-2").value),
            parseInt(document.getElementById("seq1-3").value),
          ];
          if (answers[0] !== 24 || answers[1] !== 28 || answers[2] !== 32) {
            correct = false;
          }
          feedback = correct
            ? "Correct! The pattern is adding 4 each time."
            : "Not quite. Look at the difference between numbers - it's constant.";
        } else if (seqId === "2") {
          const answers = [
            parseInt(document.getElementById("seq2-1").value),
            parseInt(document.getElementById("seq2-2").value),
            parseInt(document.getElementById("seq2-3").value),
          ];
          if (answers[0] !== 128 || answers[1] !== 256 || answers[2] !== 512) {
            correct = false;
          }
          feedback = correct
            ? "Correct! Each number is multiplied by 2 to get the next."
            : "Not quite. Look at how each number relates to the previous one.";
        } else if (seqId === "A") {
          const answers = [
            parseInt(document.getElementById("seqA-1").value),
            parseInt(document.getElementById("seqA-2").value),
            parseInt(document.getElementById("seqA-3").value),
          ];
          const pattern = document
            .getElementById("patternA")
            .value.toLowerCase();

          if (answers[0] !== 19 || answers[1] !== 22 || answers[2] !== 25) {
            correct = false;
          }
          if (!pattern.includes("add 3") && !pattern.includes("+3")) {
            correct = false;
          }

          feedback = correct
            ? "Correct! The pattern is adding 3 each time."
            : "Not quite. Look at the difference between consecutive numbers.";
        } else if (seqId === "B") {
          const answers = [
            parseInt(document.getElementById("seqB-1").value),
            parseInt(document.getElementById("seqB-2").value),
            parseInt(document.getElementById("seqB-3").value),
          ];
          const pattern = document
            .getElementById("patternB")
            .value.toLowerCase();

          if (answers[0] !== 160 || answers[1] !== 320 || answers[2] !== 640) {
            correct = false;
          }
          if (
            !pattern.includes("multiply by 2") &&
            !pattern.includes("×2") &&
            !pattern.includes("*2")
          ) {
            correct = false;
          }

          feedback = correct
            ? "Correct! Each number is multiplied by 2 to get the next."
            : "Not quite. Look at how each number relates to the previous one.";
        } else if (seqId === "C") {
          const answers = [
            parseInt(document.getElementById("seqC-1").value),
            parseInt(document.getElementById("seqC-2").value),
            parseInt(document.getElementById("seqC-3").value),
          ];
          const pattern = document
            .getElementById("patternC")
            .value.toLowerCase();

          if (answers[0] !== 37 || answers[1] !== 50 || answers[2] !== 65) {
            correct = false;
          }
          if (
            !pattern.includes("add consecutive odd") &&
            !pattern.includes("difference increases by 2")
          ) {
            correct = false;
          }

          feedback = correct
            ? "Correct! The pattern adds consecutive odd numbers (3, 5, 7, 9, etc.)."
            : "Not quite. Look at how the differences between numbers change.";
        }

        const feedbackEl = document.getElementById(`feedback-seq${seqId}`);
        feedbackEl.textContent = feedback;
        feedbackEl.className = `feedback ${correct ? "correct" : "incorrect"}`;
        feedbackEl.style.display = "block";
      });
    });

    // Parking problem checker
    document
      .getElementById("checkParking")
      .addEventListener("click", function () {
        let correct = true;
        const answers = [
          parseInt(document.getElementById("hour4").value),
          parseInt(document.getElementById("hour5").value),
          parseInt(document.getElementById("hour6").value),
          parseInt(document.getElementById("hour7").value),
          parseInt(document.getElementById("hour8").value),
          parseInt(document.getElementById("hour9").value),
        ];
        const rule = document.getElementById("parkingRule").value.toLowerCase();

        if (
          answers[0] !== 11 ||
          answers[1] !== 13 ||
          answers[2] !== 15 ||
          answers[3] !== 17 ||
          answers[4] !== 19 ||
          answers[5] !== 21
        ) {
          correct = false;
        }
        if (
          !rule.includes("2") ||
          !rule.includes("3") ||
          (!rule.includes("multiply") &&
            !rule.includes("times") &&
            !rule.includes("×"))
        ) {
          correct = false;
        }

        const feedback = correct
          ? "Correct! The rule is: multiply hours by 2 then add 3."
          : "Not quite. Remember: R3 entry fee + R2 per hour.";

        const feedbackEl = document.getElementById("feedback-parking");
        feedbackEl.textContent = feedback;
        feedbackEl.className = `feedback ${correct ? "correct" : "incorrect"}`;
        feedbackEl.style.display = "block";
      });

    // Tile pattern checker
    document
      .getElementById("checkTiles")
      .addEventListener("click", function () {
        let correct = true;
        const yellowAnswers = [
          parseInt(document.getElementById("yellow2").value),
          parseInt(document.getElementById("yellow3").value),
          parseInt(document.getElementById("yellow4").value),
          parseInt(document.getElementById("yellow5").value),
          parseInt(document.getElementById("yellow10").value),
        ];
        const redAnswers = [
          parseInt(document.getElementById("red2").value),
          parseInt(document.getElementById("red3").value),
          parseInt(document.getElementById("red4").value),
          parseInt(document.getElementById("red5").value),
          parseInt(document.getElementById("red10").value),
        ];
        const blueAnswers = [
          parseInt(document.getElementById("blue2").value),
          parseInt(document.getElementById("blue3").value),
          parseInt(document.getElementById("blue4").value),
          parseInt(document.getElementById("blue5").value),
          parseInt(document.getElementById("blue10").value),
        ];

        // Yellow tiles: (n+1)^2 - 4 (for n=2:9, n=3:16, etc.)
        if (
          yellowAnswers[0] !== 9 ||
          yellowAnswers[1] !== 16 ||
          yellowAnswers[2] !== 25 ||
          yellowAnswers[3] !== 36 ||
          yellowAnswers[4] !== 121
        ) {
          correct = false;
        }
        // Red tiles always 2
        if (
          redAnswers[0] !== 2 ||
          redAnswers[1] !== 2 ||
          redAnswers[2] !== 2 ||
          redAnswers[3] !== 2 ||
          redAnswers[4] !== 2
        ) {
          correct = false;
        }
        // Blue tiles always 2
        if (
          blueAnswers[0] !== 2 ||
          blueAnswers[1] !== 2 ||
          blueAnswers[2] !== 2 ||
          blueAnswers[3] !== 2 ||
          blueAnswers[4] !== 2
        ) {
          correct = false;
        }

        const feedback = correct
          ? "Correct! Red and blue tiles stay constant (2 each), while yellow tiles increase with the pattern (n+1)² - 4."
          : "Not quite. Remember: red and blue tiles stay the same in each tile. Yellow tiles follow a square pattern.";

        const feedbackEl = document.getElementById("feedback-tiles");
        feedbackEl.textContent = feedback;
        feedbackEl.className = `feedback ${correct ? "correct" : "incorrect"}`;
        feedbackEl.style.display = "block";
      });

    // Matchstick pattern 1 checker
    document
      .getElementById("checkMatch1")
      .addEventListener("click", function () {
        let correct = true;
        const answers = [
          parseInt(document.getElementById("match1-4").value),
          parseInt(document.getElementById("match1-5").value),
          parseInt(document.getElementById("match1-6").value),
          parseInt(document.getElementById("match1-7").value),
          parseInt(document.getElementById("match1-8").value),
          parseInt(document.getElementById("match1-9").value),
          parseInt(document.getElementById("match1-17").value),
        ];
        const rule = document.getElementById("matchRule1").value.toLowerCase();

        if (
          answers[0] !== 9 ||
          answers[1] !== 11 ||
          answers[2] !== 13 ||
          answers[3] !== 15 ||
          answers[4] !== 17 ||
          answers[5] !== 19 ||
          answers[6] !== 35
        ) {
          correct = false;
        }
        if (
          !rule.includes("2") ||
          !rule.includes("1") ||
          (!rule.includes("multiply") &&
            !rule.includes("times") &&
            !rule.includes("×"))
        ) {
          correct = false;
        }

        const feedback = correct
          ? "Correct! The rule is: multiply figure number by 2 then add 1 (or 2n + 1)."
          : "Not quite. The pattern adds 2 matches for each new figure. General rule is 2n + 1.";

        const feedbackEl = document.getElementById("feedback-match1");
        feedbackEl.textContent = feedback;
        feedbackEl.className = `feedback ${correct ? "correct" : "incorrect"}`;
        feedbackEl.style.display = "block";
      });
  });
</script>
{% endblock %}
