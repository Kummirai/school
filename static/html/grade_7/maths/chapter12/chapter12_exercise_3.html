<!-- Bootstrap CSS -->
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
  rel="stylesheet"
/>
<style>
  .exercise-container {
    background-color: #f8f9fa;
    border-radius: 10px;
    padding: 25px;
    margin-bottom: 30px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }
  .question {
    background-color: white;
    border-left: 4px solid #ffc107;
    padding: 15px;
    margin-bottom: 20px;
    border-radius: 0 8px 8px 0;
  }
  .btn-check {
    background: linear-gradient(135deg, #ffc107, #fd7e14);
    color: white;
    font-weight: bold;
  }
  .result {
    padding: 10px;
    margin-top: 10px;
    border-radius: 5px;
    display: none;
  }
  .correct {
    background-color: #d4edda;
    color: #155724;
  }
  .incorrect {
    background-color: #f8d7da;
    color: #721c24;
  }
</style>

<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <h1 class="text-center mb-4">Exercise 3: Real-World Applications</h1>

      <div class="exercise-container">
        <!-- Question 1 -->
        <div class="question">
          <p>
            1. Hamba Kahle Tours charges R500 per trip plus R0.50 per km.
            Calculate the fare for a 250 km trip.
          </p>
          <input
            type="number"
            class="form-control mb-2 answer-input"
            data-answer="625"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <!-- Question 2 -->
        <div class="question">
          <p>
            2. If Saamgaan Tours charges R450 plus R0.60 per km, how much
            cheaper is it than Hamba Kahle for a 200 km trip?
          </p>
          <input
            type="number"
            class="form-control mb-2 answer-input"
            data-answer="30"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <!-- Question 3 -->
        <div class="question">
          <p>3. For the formula y = 30x + 1, calculate y when x = 0.2.</p>
          <input
            type="number"
            class="form-control mb-2 answer-input"
            data-answer="7"
            step="0.1"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <!-- Question 4 -->
        <div class="question">
          <p>
            4. A sequence of arrangements has red squares following y = 5x - 2.
            How many red squares are in Arrangement 10?
          </p>
          <input
            type="number"
            class="form-control mb-2 answer-input"
            data-answer="48"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <!-- Question 5 -->
        <div class="question">
          <p>
            5. If a fare formula is F = 0.55d + 480, what distance (d) would
            result in a fare of R700? (Round to the nearest km.)
          </p>
          <input
            type="number"
            class="form-control mb-2 answer-input"
            data-answer="400"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <!-- Question 6 -->
        <div class="question">
          <p>
            6. Which formula represents "subtract 3 from the input and then
            multiply by 4"?
          </p>
          <select class="form-select mb-2 answer-input" data-answer="a">
            <option value="">Select an option</option>
            <option value="a">y = 4(x - 3)</option>
            <option value="b">y = 4x - 3</option>
            <option value="c">y = 3x - 4</option>
          </select>
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <!-- Question 7 -->
        <div class="question">
          <p>
            7. For the pattern y = 2x² + 1, fill in the table for x = 1, 2, 3,
            4.
          </p>
          <table class="table table-bordered">
            <tr>
              <th>x</th>
              <td>1</td>
              <td>2</td>
              <td>3</td>
              <td>4</td>
            </tr>
            <tr>
              <th>y</th>
              <td>
                <input
                  type="number"
                  class="form-control table-input"
                  data-answer="3"
                />
              </td>
              <td>
                <input
                  type="number"
                  class="form-control table-input"
                  data-answer="9"
                />
              </td>
              <td>
                <input
                  type="number"
                  class="form-control table-input"
                  data-answer="19"
                />
              </td>
              <td>
                <input
                  type="number"
                  class="form-control table-input"
                  data-answer="33"
                />
              </td>
            </tr>
          </table>
          <button class="btn btn-check check-table">Check Table</button>
          <div class="result"></div>
        </div>

        <!-- Question 8 -->
        <div class="question">
          <p>
            8. A bus company charges a flat fee of R200 plus R1.50 per km. Write
            the formula for the fare (F).
          </p>
          <input
            type="text"
            class="form-control mb-2 answer-input"
            data-answer="F = 1.5d + 200"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <!-- Question 9 -->
        <div class="question">
          <p>
            9. If the number of black squares follows z = (x + 1)², how many
            black squares are in Arrangement 4?
          </p>
          <input
            type="number"
            class="form-control mb-2 answer-input"
            data-answer="25"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <!-- Question 10 -->
        <div class="question">
          <p>
            10. A pattern has 8 red squares in Arrangement 1 and increases by 3
            red squares each time. What is the formula for red squares (y) in
            terms of x?
          </p>
          <input
            type="text"
            class="form-control mb-2 answer-input"
            data-answer="y = 3x + 5"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>
      </div>

      <div class="text-center">
        <button id="check-all" class="btn btn-warning btn-lg">
          Check All Answers
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // Same JavaScript as Exercise 1 and 2 (copy the script section)
  document.addEventListener("DOMContentLoaded", function () {
    // Check individual answers
    document.querySelectorAll(".check-btn").forEach((btn) => {
      btn.addEventListener("click", function () {
        const questionDiv = this.closest(".question");
        const input = questionDiv.querySelector(".answer-input");
        const resultDiv = questionDiv.querySelector(".result");
        const correctAnswer = input.dataset.answer;
        let userAnswer = input.value.trim();

        if (input.tagName === "SELECT") {
          userAnswer = input.options[input.selectedIndex].text;
        }

        if (userAnswer.toLowerCase() === correctAnswer.toLowerCase()) {
          resultDiv.textContent = "Correct!";
          resultDiv.className = "result correct";
        } else {
          resultDiv.textContent = `Incorrect. The correct answer is: ${correctAnswer}`;
          resultDiv.className = "result incorrect";
        }
        resultDiv.style.display = "block";
      });
    });

    // Check table answers
    document.querySelectorAll(".check-table").forEach((btn) => {
      btn.addEventListener("click", function () {
        const questionDiv = this.closest(".question");
        const inputs = questionDiv.querySelectorAll(".table-input");
        const resultDiv = questionDiv.querySelector(".result");
        let allCorrect = true;
        let results = [];

        inputs.forEach((input) => {
          const correctAnswer = input.dataset.answer;
          const userAnswer = input.value.trim();

          if (userAnswer === correctAnswer) {
            input.style.backgroundColor = "#d4edda";
            results.push(
              `✅ ${input.previousElementSibling.textContent}: Correct`
            );
          } else {
            input.style.backgroundColor = "#f8d7da";
            results.push(
              `❌ ${input.previousElementSibling.textContent}: Incorrect (Correct: ${correctAnswer})`
            );
            allCorrect = false;
          }
        });

        resultDiv.innerHTML = results.join("<br>");
        resultDiv.className = `result ${allCorrect ? "correct" : "incorrect"}`;
        resultDiv.style.display = "block";
      });
    });

    // Check all answers
    document.getElementById("check-all").addEventListener("click", function () {
      document.querySelectorAll(".check-btn").forEach((btn) => {
        btn.click();
      });
      document.querySelectorAll(".check-table").forEach((btn) => {
        btn.click();
      });
    });
  });
</script>
