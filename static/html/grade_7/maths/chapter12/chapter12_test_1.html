<!-- Bootstrap CSS -->
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
  rel="stylesheet"
/>
<style>
  .test-container {
    background-color: #f8f9fa;
    border-radius: 10px;
    padding: 30px;
    margin-bottom: 40px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  }
  .question {
    background-color: white;
    border-left: 4px solid #6f42c1;
    padding: 20px;
    margin-bottom: 25px;
    border-radius: 0 10px 10px 0;
  }
  .btn-check {
    background: linear-gradient(135deg, #6f42c1, #d63384);
    color: white;
    font-weight: bold;
    padding: 8px 20px;
  }
  .result {
    padding: 12px;
    margin-top: 15px;
    border-radius: 6px;
    display: none;
  }
  .correct {
    background-color: #d1e7dd;
    border: 1px solid #a3cfbb;
    color: #0f5132;
  }
  .incorrect {
    background-color: #f8d7da;
    border: 1px solid #f1aeb5;
    color: #842029;
  }
  .table-input {
    max-width: 100px;
    display: inline-block;
  }
  #score-display {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #6f42c1;
    color: white;
    padding: 10px 20px;
    border-radius: 50px;
    font-weight: bold;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    z-index: 1000;
  }
</style>

<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-10">
      <div class="text-center mb-5">
        <h1>Test 1: Functions and Relationships</h1>
        <p class="lead">25 Questions | Time: 60 minutes</p>
      </div>

      <div class="test-container">
        <!-- Questions 1-5: Basic Patterns -->
        <div class="question">
          <p>
            1. In a sequence, Arrangement 1 has 6 red squares. If red squares
            increase by 4 each time, how many are in Arrangement 5?
          </p>
          <input
            type="number"
            class="form-control mb-2 answer-input"
            data-answer="22"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <div class="question">
          <p>
            2. For black squares following 3, 6, 11, 18, what's the next term?
          </p>
          <input
            type="number"
            class="form-control mb-2 answer-input"
            data-answer="27"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <div class="question">
          <p>
            3. Which formula represents red squares increasing by 4 per
            arrangement?
          </p>
          <select class="form-select mb-2 answer-input" data-answer="a">
            <option value="">Select</option>
            <option value="a">y = 4x + 2</option>
            <option value="b">y = 2x + 4</option>
            <option value="c">y = x² + 4</option>
          </select>
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <div class="question">
          <p>4. If z = x² + 2, how many black squares in Arrangement 4?</p>
          <input
            type="number"
            class="form-control mb-2 answer-input"
            data-answer="18"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <div class="question">
          <p>5. For y = 3x - 1, find y when x = 3</p>
          <input
            type="number"
            class="form-control mb-2 answer-input"
            data-answer="8"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <!-- Questions 6-10: Formula Applications -->
        <div class="question">
          <p>6. What does m represent in m = 60 × h?</p>
          <input
            type="text"
            class="form-control mb-2 answer-input"
            data-answer="minutes"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <div class="question">
          <p>7. Calculate minutes in 4.5 hours using m = 60 × h</p>
          <input
            type="number"
            class="form-control mb-2 answer-input"
            data-answer="270"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <div class="question">
          <p>8. Write a fare formula: R300 base + R2/km</p>
          <input
            type="text"
            class="form-control mb-2 answer-input"
            data-answer="F = 2d + 300"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <div class="question">
          <p>9. If y = 5x + 3, find y when x = 4</p>
          <input
            type="number"
            class="form-control mb-2 answer-input"
            data-answer="23"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <div class="question">
          <p>10. Complete table for y = 2x + 1:</p>
          <table class="table table-bordered">
            <tr>
              <th>x</th>
              <td>1</td>
              <td>2</td>
              <td>3</td>
              <td>4</td>
            </tr>
            <tr>
              <th>y</th>
              <td>
                <input
                  type="number"
                  class="form-control table-input"
                  data-answer="3"
                />
              </td>
              <td>
                <input
                  type="number"
                  class="form-control table-input"
                  data-answer="5"
                />
              </td>
              <td>
                <input
                  type="number"
                  class="form-control table-input"
                  data-answer="7"
                />
              </td>
              <td>
                <input
                  type="number"
                  class="form-control table-input"
                  data-answer="9"
                />
              </td>
            </tr>
          </table>
          <button class="btn btn-check check-table">Check Table</button>
          <div class="result"></div>
        </div>

        <!-- Questions 11-15: Table Matching -->
        <div class="question">
          <p>11. Which formula matches this table?</p>
          <table class="table table-bordered mb-3">
            <tr>
              <th>x</th>
              <td>1</td>
              <td>2</td>
              <td>3</td>
              <td>4</td>
            </tr>
            <tr>
              <th>y</th>
              <td>7</td>
              <td>10</td>
              <td>13</td>
              <td>16</td>
            </tr>
          </table>
          <select class="form-select mb-2 answer-input" data-answer="a">
            <option value="">Select</option>
            <option value="a">y = 3x + 4</option>
            <option value="b">y = 4x + 3</option>
            <option value="c">y = 2x + 5</option>
          </select>
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <div class="question">
          <p>12. Complete table for y = 4x - 2:</p>
          <table class="table table-bordered">
            <tr>
              <th>x</th>
              <td>1</td>
              <td>2</td>
              <td>3</td>
              <td>4</td>
            </tr>
            <tr>
              <th>y</th>
              <td>
                <input
                  type="number"
                  class="form-control table-input"
                  data-answer="2"
                />
              </td>
              <td>
                <input
                  type="number"
                  class="form-control table-input"
                  data-answer="6"
                />
              </td>
              <td>
                <input
                  type="number"
                  class="form-control table-input"
                  data-answer="10"
                />
              </td>
              <td>
                <input
                  type="number"
                  class="form-control table-input"
                  data-answer="14"
                />
              </td>
            </tr>
          </table>
          <button class="btn btn-check check-table">Check Table</button>
          <div class="result"></div>
        </div>

        <div class="question">
          <p>13. Find the formula for black squares: 2, 5, 10, 17</p>
          <input
            type="text"
            class="form-control mb-2 answer-input"
            data-answer="z = x² + 1"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <div class="question">
          <p>14. Calculate fare: F = 0.75d + 200 for 120km</p>
          <input
            type="number"
            class="form-control mb-2 answer-input"
            data-answer="290"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <div class="question">
          <p>15. Simplify y = 2(3x + 1) and find y when x=2</p>
          <div class="mb-2">
            <p>
              Simplified:
              <input
                type="text"
                class="form-control d-inline-block w-50"
                data-answer="y = 6x + 2"
              />
            </p>
            <p>
              When x=2:
              <input
                type="number"
                class="form-control d-inline-block w-50"
                data-answer="14"
              />
            </p>
          </div>
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <!-- Questions 16-20: Real-World Problems -->
        <div class="question">
          <p>16. Hamba Kahle Tours: R500 + R0.50/km. Fare for 250km?</p>
          <input
            type="number"
            class="form-control mb-2 answer-input"
            data-answer="625"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <div class="question">
          <p>17. Saamgaan (R450 + R0.60/km) vs Hamba Kahle for 200km?</p>
          <input
            type="number"
            class="form-control mb-2 answer-input"
            data-answer="30"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <div class="question">
          <p>18. Calculate y = 30x + 1 when x = 0.2</p>
          <input
            type="number"
            class="form-control mb-2 answer-input"
            data-answer="7"
            step="0.1"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <div class="question">
          <p>19. Red squares follow y = 5x - 2. How many in Arrangement 10?</p>
          <input
            type="number"
            class="form-control mb-2 answer-input"
            data-answer="48"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <div class="question">
          <p>20. Solve F = 0.55d + 480 for F=700 (nearest km)</p>
          <input
            type="number"
            class="form-control mb-2 answer-input"
            data-answer="400"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <!-- Questions 21-25: Mixed Challenge -->
        <div class="question">
          <p>21. Which represents "subtract 3 then multiply by 4"?</p>
          <select class="form-select mb-2 answer-input" data-answer="a">
            <option value="">Select</option>
            <option value="a">y = 4(x - 3)</option>
            <option value="b">y = 4x - 3</option>
            <option value="c">y = 3x - 4</option>
          </select>
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <div class="question">
          <p>22. Complete table for y = 2x² + 1:</p>
          <table class="table table-bordered">
            <tr>
              <th>x</th>
              <td>1</td>
              <td>2</td>
              <td>3</td>
              <td>4</td>
            </tr>
            <tr>
              <th>y</th>
              <td>
                <input
                  type="number"
                  class="form-control table-input"
                  data-answer="3"
                />
              </td>
              <td>
                <input
                  type="number"
                  class="form-control table-input"
                  data-answer="9"
                />
              </td>
              <td>
                <input
                  type="number"
                  class="form-control table-input"
                  data-answer="19"
                />
              </td>
              <td>
                <input
                  type="number"
                  class="form-control table-input"
                  data-answer="33"
                />
              </td>
            </tr>
          </table>
          <button class="btn btn-check check-table">Check Table</button>
          <div class="result"></div>
        </div>

        <div class="question">
          <p>23. Write fare formula: R200 base + R1.50/km</p>
          <input
            type="text"
            class="form-control mb-2 answer-input"
            data-answer="F = 1.5d + 200"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <div class="question">
          <p>24. If z = (x + 1)², black squares in Arrangement 4?</p>
          <input
            type="number"
            class="form-control mb-2 answer-input"
            data-answer="25"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>

        <div class="question">
          <p>25. Pattern: 8 red in Arrangement 1, increases by 3. Formula?</p>
          <input
            type="text"
            class="form-control mb-2 answer-input"
            data-answer="y = 3x + 5"
          />
          <button class="btn btn-check check-btn">Check Answer</button>
          <div class="result"></div>
        </div>
      </div>

      <div class="text-center mt-4">
        <button id="check-all" class="btn btn-primary btn-lg me-2">
          Check All Answers
        </button>
        <button id="reset-btn" class="btn btn-outline-secondary btn-lg">
          Reset
        </button>
      </div>
    </div>
  </div>
</div>

<div id="score-display">Score: <span id="score">0</span>/25</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    let score = 0;
    const totalQuestions = 25;

    // Update score display
    function updateScore() {
      document.getElementById("score").textContent = score;
      const percentage = (score / totalQuestions) * 100;
      const scoreDisplay = document.getElementById("score-display");

      if (percentage >= 80) {
        scoreDisplay.style.background =
          "linear-gradient(135deg, #28a745, #20c997)";
      } else if (percentage >= 50) {
        scoreDisplay.style.background =
          "linear-gradient(135deg, #ffc107, #fd7e14)";
      } else {
        scoreDisplay.style.background =
          "linear-gradient(135deg, #dc3545, #d63384)";
      }
    }

    // Check individual answers
    document.querySelectorAll(".check-btn").forEach((btn) => {
      btn.addEventListener("click", function () {
        const questionDiv = this.closest(".question");
        const input = questionDiv.querySelector(".answer-input");
        const resultDiv = questionDiv.querySelector(".result");
        const correctAnswer = input.dataset.answer;
        let userAnswer = input.value.trim();

        if (input.tagName === "SELECT") {
          userAnswer = input.options[input.selectedIndex].text;
        }

        if (!questionDiv.dataset.checked) {
          if (userAnswer.toLowerCase() === correctAnswer.toLowerCase()) {
            resultDiv.textContent = "✓ Correct!";
            resultDiv.className = "result correct";
            score++;
          } else {
            resultDiv.textContent = `✗ Incorrect. Correct answer: ${correctAnswer}`;
            resultDiv.className = "result incorrect";
          }
          questionDiv.dataset.checked = "true";
          updateScore();
        }
        resultDiv.style.display = "block";
      });
    });

    // Check table answers
    document.querySelectorAll(".check-table").forEach((btn) => {
      btn.addEventListener("click", function () {
        const questionDiv = this.closest(".question");
        const inputs = questionDiv.querySelectorAll(".table-input");
        const resultDiv = questionDiv.querySelector(".result");

        if (!questionDiv.dataset.checked) {
          let allCorrect = true;
          let results = [];

          inputs.forEach((input) => {
            const correctAnswer = input.dataset.answer;
            const userAnswer = input.value.trim();

            if (userAnswer === correctAnswer) {
              input.style.backgroundColor = "#d4edda";
              results.push(
                `✓ ${input.previousElementSibling.textContent}: Correct`
              );
            } else {
              input.style.backgroundColor = "#f8d7da";
              results.push(
                `✗ ${input.previousElementSibling.textContent}: Incorrect (Correct: ${correctAnswer})`
              );
              allCorrect = false;
            }
          });

          if (allCorrect) score++;
          questionDiv.dataset.checked = "true";
          updateScore();

          resultDiv.innerHTML = results.join("<br>");
          resultDiv.className = `result ${
            allCorrect ? "correct" : "incorrect"
          }`;
          resultDiv.style.display = "block";
        }
      });
    });

    // Check all answers
    document.getElementById("check-all").addEventListener("click", function () {
      document.querySelectorAll(".check-btn").forEach((btn) => btn.click());
      document.querySelectorAll(".check-table").forEach((btn) => btn.click());
    });

    // Reset all answers
    document.getElementById("reset-btn").addEventListener("click", function () {
      score = 0;
      updateScore();

      document.querySelectorAll(".question").forEach((q) => {
        delete q.dataset.checked;
        const resultDiv = q.querySelector(".result");
        if (resultDiv) {
          resultDiv.style.display = "none";
          resultDiv.className = "result";
          resultDiv.textContent = "";
        }

        q.querySelectorAll("input").forEach((input) => {
          input.style.backgroundColor = "";
          if (input.type !== "number") input.value = "";
        });

        q.querySelectorAll("select").forEach((select) => {
          select.selectedIndex = 0;
        });
      });
    });
  });
</script>
