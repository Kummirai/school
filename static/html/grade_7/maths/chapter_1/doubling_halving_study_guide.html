{% extends 'base.html' %} {% block title %}Grade 7 Mathematics: Doubling and
Halving{% endblock %} {% block content %}

{% block content %}
<!-- Video Modal -->
<div class="modal fade" id="videoModal" tabindex="-1" aria-labelledby="videoModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="videoModalLabel">Lesson Video: {{ lesson.title }}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="ratio ratio-16x9">
          <iframe id="lessonVideoFrame" src="" allowfullscreen></iframe>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="header">
    <h1 class="display-4">Grade 7 Mathematics: Chapter 1</h1>
    <p class="lead">Doubling and Halving</p>
  </div>

  <section>
    <h2 class="section-title">1.4 Doubling and Halving</h2>
    <button type="button" class="btn btn-primary mb-3" data-bs-toggle="modal" data-bs-target="#videoModal" data-video-url="{{ lesson.video_url }}">
      <i class="bi bi-play-circle me-2"></i> Watch Video Lesson
    </button>
    <p>
      Doubling a number means multiplying it by 2. Halving a number means
      dividing it by 2. These are basic operations that can often simplify more
      complex calculations.
    </p>

    <h3>Doubling Numbers</h3>
    <p>
      To double a number, you are essentially finding "two times" that number.
      This can be done by addition (adding the number to itself) or
      multiplication (multiplying by 2).
    </p>
    <h4>Examples:</h4>
    <ul>
      <li>Double 15: \(15 \times 2 = 30\) or \(15 + 15 = 30\)</li>
      <li>Double 250: \(250 \times 2 = 500\)</li>
    </ul>

    <h3>Halving Numbers</h3>
    <p>
      To halve a number, you are dividing it into two equal parts. This is
      equivalent to dividing the number by 2.
    </p>
    <h4>Examples:</h4>
    <ul>
      <li>Halve 40: \(40 \div 2 = 20\)</li>
      <li>Halve 150: \(150 \div 2 = 75\)</li>
    </ul>
    <p>
      Doubling and halving are particularly useful when performing
      multiplication or division with certain numbers (e.g., multiplying by 4
      can be seen as doubling twice).
    </p>
  </section>

  <section class="mt-5">
    <h2 class="section-title">Practice Questions: Doubling and Halving</h2>

    <div class="question-card" id="q_dh1">
      <label for="q_dh1_answer">1. Double the number 75.</label>
      <input
        type="number"
        class="form-control"
        id="q_dh1_answer"
        placeholder="Enter your answer"
      />
      <button class="btn btn-primary mt-2" onclick="checkAnswer('q_dh1', 150)">
        Check Answer
      </button>
      <div class="feedback" id="q_dh1_feedback"></div>
      <div class="explanation" id="q_dh1_explanation">
        <p>
          <strong>Explanation:</strong> To double 75, you multiply it by 2: \(75
          \times 2 = 150\). Alternatively, \(75 + 75 = 150\).
        </p>
      </div>
    </div>

    <div class="question-card" id="q_dh2">
      <label for="q_dh2_answer">2. Halve the number 280.</label>
      <input
        type="number"
        class="form-control"
        id="q_dh2_answer"
        placeholder="Enter your answer"
      />
      <button class="btn btn-primary mt-2" onclick="checkAnswer('q_dh2', 140)">
        Check Answer
      </button>
      <div class="feedback" id="q_dh2_feedback"></div>
      <div class="explanation" id="q_dh2_explanation">
        <p>
          <strong>Explanation:</strong> To halve 280, you divide it by 2: \(280
          \div 2 = 140\).
        </p>
      </div>
    </div>

    <div class="question-card" id="q_dh3">
      <label for="q_dh3_answer">3. Double 45, and then halve the result.</label>
      <input
        type="number"
        class="form-control"
        id="q_dh3_answer"
        placeholder="Enter your answer"
      />
      <button class="btn btn-primary mt-2" onclick="checkAnswer('q_dh3', 45)">
        Check Answer
      </button>
      <div class="feedback" id="q_dh3_feedback"></div>
      <div class="explanation" id="q_dh3_explanation">
        <p><strong>Explanation:</strong></p>
        <ol>
          <li>First, double 45: \(45 \times 2 = 90\).</li>
          <li>Then, halve the result (90): \(90 \div 2 = 45\).</li>
        </ol>
        <p>
          Notice that doubling a number and then halving it always brings you
          back to the original number!
        </p>
      </div>
    </div>

    <div class="question-card" id="q_dh4">
      <label for="q_dh4_answer"
        >4. A recipe calls for 120 grams of flour. If you want to double the
        recipe, how much flour do you need?</label
      >
      <input
        type="number"
        class="form-control"
        id="q_dh4_answer"
        placeholder="Enter grams"
      />
      <button class="btn btn-primary mt-2" onclick="checkAnswer('q_dh4', 240)">
        Check Answer
      </button>
      <div class="feedback" id="q_dh4_feedback"></div>
      <div class="explanation" id="q_dh4_explanation">
        <p>
          <strong>Explanation:</strong> To double the recipe, you need twice the
          amount of flour. So, \(120 \text{ grams} \times 2 = 240 \text{
          grams}\).
        </p>
      </div>
    </div>

    <div class="question-card" id="q_dh5">
      <label for="q_dh5_answer"
        >5. You have 36 candies to share equally between two friends. How many
        candies does each friend get?</label
      >
      <input
        type="number"
        class="form-control"
        id="q_dh5_answer"
        placeholder="Enter number of candies"
      />
      <button class="btn btn-primary mt-2" onclick="checkAnswer('q_dh5', 18)">
        Check Answer
      </button>
      <div class="feedback" id="q_dh5_feedback"></div>
      <div class="explanation" id="q_dh5_explanation">
        <p>
          <strong>Explanation:</strong> Sharing equally between two friends
          means halving the total number of candies. So, \(36 \text{ candies}
          \div 2 = 18 \text{ candies}\) per friend.
        </p>
      </div>
    </div>
  </section>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const videoModal = document.getElementById('videoModal');
    const lessonVideoFrame = document.getElementById('lessonVideoFrame');

    videoModal.addEventListener('show.bs.modal', function (event) {
      const button = event.relatedTarget;
      const videoUrl = button.getAttribute('data-video-url');
      lessonVideoFrame.src = videoUrl;
    });

    videoModal.addEventListener('hide.bs.modal', function () {
      lessonVideoFrame.src = ''; // Stop the video when modal is closed
    });

    function checkAnswer(questionId, correctAnswer) {
      const userAnswer = document.getElementById(`${questionId}_answer`).value;
      const feedbackElement = document.getElementById(`${questionId}_feedback`);
      const explanationElement = document.getElementById(
        `${questionId}_explanation`
      );

      if (parseInt(userAnswer) === correctAnswer) {
        feedbackElement.textContent = "Correct! Well done.";
        feedbackElement.className = "feedback correct";
      } else {
        feedbackElement.textContent = `Incorrect. Please review the explanation.`;
        feedbackElement.className = "feedback incorrect";
      }
      explanationElement.classList.add("show-explanation");
    }

    // Make checkAnswer globally accessible
    window.checkAnswer = checkAnswer;
  });
</script>

{% endblock %}
